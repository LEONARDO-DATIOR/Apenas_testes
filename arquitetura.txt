ğŸ” Fluxo geral: 
REQ â†’ server â†’ app â†’ routes â†’ controller â†’ service â†’ repository â†’ model â†’ repository â†’ service â†’ controller â†’ RES


ğŸ§  O Node faz:

1ï¸âƒ£ server.js
â†’ Sobe o servidor
â†’ SÃ³ inicia tudo

2ï¸âƒ£ app.js
â†’ Importa o express
â†’ Configura express.json()
â†’ Conecta ao banco (Mongo)
â†’ Importa o arquivo de rotas principal

3ï¸âƒ£ routes/index.js
â†’ Agrupa todas as rotas da API
â†’ Ã‰ o "mapa das URLs"
â†’ Ele nÃ£o tem lÃ³gica, apenas diz qual controller atende cada URL

4ï¸âƒ£ Controller
â†’ Recebe req/res
â†’ LÃª body, params, query
â†’ NÃƒO trata regras de negÃ³cio
â†’ Chama o service

5ï¸âƒ£ Service
â†’ ContÃ©m regras de negÃ³cio
â†’ ValidaÃ§Ãµes
â†’ DecisÃµes
â†’ Chama o repository para salvar/buscar dados

6ï¸âƒ£ Repository
â†’ Fala diretamente com o banco
â†’ Cria, busca, atualiza e deleta
â†’ Aqui Ã© onde o Model entra!

7ï¸âƒ£ Model
â†’ Define o schema e a estrutura dos dados
â†’ Ã‰ o que traduz sua collection do Mongo
â†’ O repository usa o Model para consultar/salvar dados
â†’ O model nÃ£o tem lÃ³gica de negÃ³cio nem validaÃ§Ã£o complexa

| Camada           | Responsabilidade                                        |
| ---------------- | ------------------------------------------------------- |
| **server.js**    | Liga o servidor                                         |
| **app.js**       | Configura Express, conecta DB, registra rotas           |
| **routes**       | Tabela de rotas: URL â†’ controller                       |
| **controllers**  | Recebem req/res e chamam services                       |
| **services**     | Regras de negÃ³cio, validaÃ§Ãµes, lÃ³gica da aplicaÃ§Ã£o      |
| **repositories** | Consultam o banco, usam os Models para executar queries |
| **models**       | Estrutura dos dados (Schema + Model do Mongoose)        |